<ion-header translucent>
  <ion-toolbar>
    <ion-title>{{ 'RECURRINGS.addRecurringAmountTitle' | translate}}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="close(false)" color="primary">
        <ion-icon slot="icon-only" name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content fullscreen *ngIf="ready">

  <form [formGroup]="formAddrecurringAmount">

    <ion-list>
      <!-- Recurring amounts -->
      <ng-container formArrayName="recurringAmounts">


        <ion-item *ngFor="let recurringAmount of recurringAmounts; let i = index">
          <ion-checkbox slot="end" [formControlName]="i"></ion-checkbox>
          <ion-grid fixed>
            <ion-row>
              <ion-col size="12">
                <ion-label>{{recurringAmount.description}}</ion-label>
              </ion-col>
              <ion-col size="12">

                {{recurringAmount?.category?.description}} - {{recurringAmount?.category?.macroCategory?.description}}

              </ion-col>
              <ion-col>

                {{'LABELS.planned' | translate}}:<ion-text [color]="getColor(recurringAmount.amountType)">
                  {{recurringAmount?.planned}}€</ion-text>

              </ion-col>
              <ion-col>
                {{'LABELS.actual' | translate}}:<ion-text [color]="getColor(recurringAmount.amountType)">
                  {{recurringAmount?.actual}}€</ion-text>
              </ion-col>
            </ion-row>
          </ion-grid>

        </ion-item>

      </ng-container>
    </ion-list>

    </form>
    
  </ion-content>
  <ion-footer>
    <ion-grid>
      <ion-row class="ion-justify-content-between">
        
        <ion-col>
          <ion-button (click)="onSubmit()" [disabled]="!isValid" expand="block" color="primary">
            <ion-icon slot="start" icon="save-outline" class="component-icon"></ion-icon>
            {{ 'COMMON.save' | translate }}
          </ion-button>
        </ion-col>
        <ion-col>
          <ion-button (click)="close(true)" expand="block" color="secondary" fill="outline">
            <ion-icon slot="start" icon="arrow-undo-outline" class="component-icon"></ion-icon>
            {{ 'COMMON.cancel' | translate }}
          </ion-button>
        </ion-col>
      </ion-row>
      
    </ion-grid>
  </ion-footer>